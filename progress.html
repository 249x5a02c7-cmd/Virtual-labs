<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Progress - Virtual Labs</title>
    <link rel="icon" href="images/Page_logo.jpg" type="image/jpeg">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        .progress-container {
            max-width: 1000px;
            margin: 50px auto;
            padding: 40px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .progress-welcome {
            margin-bottom: 40px;
        }

        .progress-welcome h1 {
            color: #1e3c72;
            font-size: 32px;
            margin-bottom: 10px;
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid #dee2e6;
        }

        .stat-value {
            display: block;
            font-size: 36px;
            font-weight: 700;
            color: #1e3c72;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #6c757d;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .activity-section h2 {
            color: #1e3c72;
            font-size: 22px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f2f5;
        }

        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .activity-card {
            display: flex;
            align-items: center;
            padding: 20px;
            background: white;
            border: 1px solid #eee;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .activity-card:hover {
            transform: translateX(10px);
            border-color: #1e3c72;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .activity-icon {
            width: 50px;
            height: 50px;
            background: #f0f2f5;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-right: 20px;
        }

        .activity-details {
            flex: 1;
        }

        .activity-details h3 {
            margin: 0;
            font-size: 16px;
            color: #333;
        }

        .activity-details p {
            margin: 3px 0 0;
            font-size: 13px;
            color: #777;
        }

        .activity-status {
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-completed {
            background: #d4edda;
            color: #155724;
        }

        .status-in-progress {
            background: #fff3cd;
            color: #856404;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #888;
        }

        .empty-icon {
            font-size: 60px;
            margin-bottom: 20px;
            display: block;
        }
    </style>
</head>

<body style="background: #f0f2f5;">

    <header class="header-container">
        <div class="logo">
            <a href="index.html"><img src="images/logo.png" alt="College Logo"></a>
        </div>
        <div class="title">
            <h1>G Pulla Reddy Engineering College</h1>
            <h2>Electrical Machines â€“ Virtual Laboratory</h2>
        </div>
        <div class="nav-links" style="display: flex; gap: 20px; align-items: center; margin-left: 20px;"><a href="index.html" style="color: white; text-decoration: none; font-weight: 500;">Home</a><a href="help.html" style="color: white; text-decoration: none; font-weight: 500;">Help</a></div><div class="nav-auth" id="navAuth"></div>
    </header>

    <div class="progress-container">
        <div class="progress-welcome">
            <h1 id="welcomeUser">Your Progress</h1>
            <p>Track your experiments and learning journey</p>
        </div>

        <div class="stats-row">
            <div class="stat-card">
                <span class="stat-value">5</span>
                <span class="stat-label">Total Experiments</span>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="completedCount">0</span>
                <span class="stat-label">Completed</span>
            </div>
            <div class="stat-card">
                <span class="stat-value">0%</span>
                <span class="stat-label">Overall Mastery</span>
            </div>
        </div>

        <div class="activity-section">
            <h2>ðŸ“œ Recent Activity</h2>
            <div class="activity-list" id="activityList">
                <div class="empty-state">
                    <span class="empty-icon">ðŸ“Š</span>
                    <p>You haven't completed any experiments yet. Start your first simulation to see your progress here!
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('lab_logged_in_user'));
            if (!user) {
                window.location.href = 'login.html';
                return;
            }

            document.getElementById('welcomeUser').innerText = `Hello, ${user.name}!`;

            // Simulation of progress data
            // In a real app, this would come from a database or localStorage tracking
            const experiments = [
                { id: 'brake', name: 'Brake Test on DC Motor', icon: 'ðŸ”§', status: 'In Progress' },
                { id: 'swinburne', name: 'Swinburne\'s Test', icon: 'âš™ï¸', status: 'Not Started' },
                { id: 'transformer_oc', name: 'Transformer OC Test', icon: 'ðŸ”Œ', status: 'Completed', date: 'Feb 20, 2024' },
                { id: 'transformer_sc', name: 'Transformer SC Test', icon: 'âš¡', status: 'Completed', date: 'Feb 18, 2024' }
            ];

            const list = document.getElementById('activityList');
            const completed = experiments.filter(e => e.status === 'Completed');

            if (experiments.length > 0) {
                list.innerHTML = '';
                experiments.forEach(exp => {
                    const card = document.createElement('div');
                    card.className = 'activity-card';
                    card.innerHTML = `
                        <div class="activity-icon">${exp.icon}</div>
                        <div class="activity-details">
                            <h3>${exp.name}</h3>
                            <p>${exp.date ? 'Last accessed: ' + exp.date : 'Explore now'}</p>
                        </div>
                        <span class="activity-status ${exp.status === 'Completed' ? 'status-completed' : 'status-in-progress'}">
                            ${exp.status}
                        </span>
                    `;
                    list.appendChild(card);
                });

                document.getElementById('completedCount').innerText = completed.length;
            }
        });
    </script>
</body>

</html>
